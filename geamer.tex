% ============================================================
% Simple Beamer Template - geamer
%
% Author: George Baihan Wang
% Updated: 2026-02-28
% ============================================================

%% To use the template, simply type \input{geamer.tex} in the preamble within your Beamer tex files. Make sure the <geamer.tex> template file is in your current tex projects directory or your system 'texmf' folder.




% new commands
\newcommand{\mc}{\multicolumn} % multicolumn in tables
\newcommand{\red}{\textcolor{red}} % command for red text

% custom command to make \thead table headings the same font as font in table
% in actual table enviroments, use \renewcommand\theadfont{\setfsize} (before the tabular enviroment)
\makeatletter
\newcommand{\currentfsize}{\f@size pt}
\makeatother

\newdimen\fsize
\newcommand{\setfsize}{\setlength{\fsize}{\currentfsize}}




%% Colours

\usepackage{xcolor}

% Primary and secondary colours
\definecolor{mainblue}       {RGB}{0,59,113}
\definecolor{secondarygrey}  {RGB}{142,144,144}
\definecolor{grey}           {RGB}{60,60,60}
\definecolor{cornflower}     {RGB}{121,162,206}
\definecolor{pea}            {RGB}{201,212,178}
\definecolor{beige}          {RGB}{204,189,143}
\definecolor{sky}            {RGB}{221,231,238}
\definecolor{orange}         {RGB}{245,128,37}

% Colour palette from below source:
% https://www.viget.com/articles/color-contrast/
\definecolor{purple}{HTML}{5601A4}
\definecolor{navy}{HTML}{0D3D56}
\definecolor{ruby}{HTML}{9a2515}
\definecolor{alice}{HTML}{107895}
\definecolor{daisy}{HTML}{EBC944}
\definecolor{coral}{HTML}{F26D21}
\definecolor{kelly}{HTML}{829356}
\definecolor{cranberry}{HTML}{E64173}
\definecolor{jet}{HTML}{131516}
\definecolor{asher}{HTML}{555F61}
\definecolor{slate}{HTML}{314F4F}

% From Scott's Causal Mixtape Sessions
\definecolor{picton-blue}{HTML}{00b7ff}
\definecolor{violet-red}{HTML}{ff3881}
\definecolor{sun}{HTML}{ffaf18}
\definecolor{lightpurple}{HTML}{871EFF}






%% Beamer layouts

% Global structure colour (inherited by smoothbars, TOC, and unstyled elements)
\setbeamercolor{structure}{fg=mainblue}

% Smoothbars palette (match background so the navigation bar blends in)
\setbeamercolor{palette primary}{fg=mainblue, bg=bgwhite}
\setbeamercolor{palette secondary}{fg=mainblue, bg=bgwhite}
\setbeamercolor{palette tertiary}{fg=mainblue, bg=bgwhite}
\setbeamercolor{palette quaternary}{fg=mainblue, bg=bgwhite}
\setbeamercolor{section in head/foot}{fg=mainblue, bg=bgwhite}

% Background (subtle off-white for modern feel)
\definecolor{bgwhite}{RGB}{248,249,251}
\setbeamercolor{background canvas}{bg = bgwhite}

% Change text margins
\setbeamersize{text margin left = 15pt, text margin right = 15pt}

% \alert   (for showing important phrases)
\setbeamercolor{alerted text}{fg = sun!77!black}



% Blocks (tied to primary colour for cohesion)
\setbeamertemplate{blocks}[rounded]
\setbeamercolor{block title}{fg=mainblue,bg=mainblue!15!white}
\setbeamercolor{block title example}{fg=green!50!black, bg=mainblue!12!white}
\setbeamercolor{block title alerted}{fg=sun!77!black, bg=mainblue!12!white}
\setbeamercolor{block body}{parent=normal text,bg=mainblue!6!white}
\setbeamercolor{block body example}{parent=block body}
\setbeamercolor{block body alerted}{parent=block body}

% Title page
\setbeamercolor*{title}{fg=mainblue}
\setbeamercolor*{subtitle}{fg=mainblue}
\setbeamerfont*{subtitle}{size = \large}
\setbeamercolor*{author}{fg=black}
\setbeamercolor*{date}{fg=grey}
\setbeamerfont*{date}{size = \small}
\setbeamercolor*{institute}{fg=black}
\setbeamerfont*{institute}{size = \small}

\setbeamertemplate{title page}{
    \vbox{}
    \vfill
    \begingroup
    \centering
    \begin{minipage}{.77\textwidth}
        \begin{beamercolorbox}[sep=3pt, center, rounded=true, shadow=false]{title}
            \usebeamerfont{title}\inserttitle\par%
            \ifx\insertsubtitle\@empty%
            \else%
                \vskip0.5em%
                {\usebeamerfont{subtitle}\usebeamercolor[fg]{subtitle}\insertsubtitle\par}%
            \fi%     
        \end{beamercolorbox}%
    \end{minipage}

    \vskip1em\par
    \begin{minipage}{\textwidth}
        \begin{beamercolorbox}[sep=8pt,center]{author}
            \usebeamerfont{author}\insertauthor
        \end{beamercolorbox}
    \end{minipage}

    \begin{minipage}{\textwidth}
        \begin{beamercolorbox}[sep=8pt,center]{institute}
            \usebeamerfont{institute}\insertinstitute
        \end{beamercolorbox}
    \end{minipage}

    \vskip0.5em

    \begin{minipage}{\textwidth}
        \begin{beamercolorbox}[sep=8pt,center]{date}
            \usebeamerfont{date}\insertdate
        \end{beamercolorbox}
    \end{minipage}

    \endgroup
    \vfill
}


% Button
\setbeamercolor{button}{bg=mainblue, fg=white}

% Remove navigation symbols
\setbeamertemplate{navigation symbols}{}



% Bullet point items

% fix left-margins
\settowidth{\leftmargini}{\usebeamertemplate{itemize item}}
\addtolength{\leftmargini}{\labelsep}

% enumerate
\setbeamercolor{enumerate item}{fg=mainblue}
\setbeamerfont{enumerate item}{size = \small}
\setbeamertemplate{enumerate item}{\insertenumlabel.}
\setbeamercolor{enumerate subitem}{fg = mainblue}
\setbeamerfont{enumerate subitem}{size = \small}

% itemize
\setbeamercolor{itemize item}{fg=mainblue}
\setbeamerfont{itemize item}{size = \small}
\setbeamertemplate{itemize item}[square]
\setbeamercolor{itemize subitem}{fg = mainblue}
\setbeamerfont{itemize subitem}{size = \small}
\setbeamertemplate{itemize subitem}[circle]
\setbeamercolor{itemize subsubitem}{fg = grey}
\setbeamerfont{itemize subsubitem}{size = \small}
\setbeamertemplate{itemize subsubitem}{$\rightarrow$}

% Natural list spacing (removes need for manual \vspace adjustments)
\setbeamertemplate{itemize/enumerate body begin}{\setlength\itemsep{6pt}\setlength\topsep{4pt}}
\setbeamertemplate{itemize/enumerate subbody begin}{\setlength\itemsep{4pt}\setlength\topsep{2pt}}
\setbeamertemplate{itemize/enumerate subsubbody begin}{\setlength\itemsep{3pt}\setlength\topsep{2pt}}


% line spacing
\usepackage{setspace}
\setstretch{1.2}


% fonts

\usefonttheme{professionalfonts}
% small adjustments to text kerning
\usepackage{microtype}

\usepackage[sfdefault, light]{roboto}
%\usepackage[sfdefault, light]{noto}

\usepackage[euler-digits]{eulervm}


% format/wrap long cells in table enviro
\usepackage{makecell}

\usepackage{multirow}

% set tabular column width
\usepackage{array}


% Remove annoying over-full box warnings
\vfuzz2pt
\hfuzz2pt


% Add smooth bars at the top of the frames
\useoutertheme[subsection=false]{smoothbars}


% TOC at the start of each Section (commented since smooth bars should serve the same functionality)
\iffalse
    \setbeamercolor{section number projected}{bg=black,fg=white}
    \setbeamercolor{subsection number projected}{bg=black,fg=white}

    \setbeamertemplate{section in toc}[square]
    \setbeamertemplate{subsection in toc}[square]
    \setbeamercolor{section in toc}{fg=black, bg=white}
    \setbeamercolor{subsection in toc}{fg=black}

    \AtBeginSection[]{
        {\setbeamertemplate{footline}{}
                \begin{frame}[t,noframenumbering]{Roadmap}
                    \tableofcontents[currentsection]
                \end{frame}}
    }
\fi

% Fix \input with tables
% \input fails when \\ is at end of external .tex file
\makeatletter
\let\input\@@input
\makeatother


% Footer
\setbeamercolor{footer}{fg=mainblue!70!black, bg=bgwhite}

\defbeamertemplate*{footline}{infolines theme}
{%
    \leavevmode%
    \hbox{%
        \begin{beamercolorbox}[wd=\paperwidth,ht=2.2ex,dp=0.7ex,leftskip=2ex,rightskip=2ex,sep=0pt]{footer}%
            \hfill%
            \usebeamerfont{footerfont}%
            \insertshorttitle%
            \hspace*{3ex}%
            \insertframenumber\ / \inserttotalframenumber
        \end{beamercolorbox}}%
    \vskip4pt%
}


% Extra packages
\usepackage[font=scriptsize,labelfont=bf]{caption}
\usepackage[english]{babel}
\usepackage{csquotes}
\usepackage[round]{natbib}
\usepackage{booktabs}
\usepackage[normalem]{ulem} % strikethrough text
\usepackage{appendixnumberbeamer} % reset page number from the start of appendix
\usepackage{multicol}




%% bibliography

% citation formatting: no comma between author-year or before post-note
% Usage: \citet[MS]{evans2026} --> Evans et al. (2026 MS)
%        \citep[MS]{evans2026} --> (Evans et al. 2026 MS)
\setcitestyle{aysep={}}
\makeatletter
\renewcommand{\NAT@cmt}{ }
\makeatother

% footnote size bibliography
\renewcommand{\bibfont}{\footnotesize}

% remove reference icons on the far left
\setbeamertemplate{bibliography item}{}

% change text color in bibliography
\setbeamercolor{bibliography entry author}{fg=mainblue}
\setbeamercolor{bibliography entry note}{fg=black}


% Frame title

\setbeamercolor{frametitle}{fg = mainblue}
\setbeamerfont{frametitle}{size = \large}
\setbeamercolor{framesubtitle}{fg = mainblue}
\setbeamerfont{framesubtitle}{size = \small, shape = \itshape}
\setbeamertemplate{frametitle}{%
    \nointerlineskip%
    \begin{beamercolorbox}[wd=\paperwidth,ht=2.2ex,dp=0.5ex,leftskip=15pt]{frametitle}
        \insertframetitle%
        \ifx\insertframesubtitle\empty\else%
            \;\;{\usebeamerfont{framesubtitle}\usebeamercolor[fg]{framesubtitle}\insertframesubtitle}%
        \fi%
    \end{beamercolorbox}%
}